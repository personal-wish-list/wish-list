(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{76:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var i,c,a,s,r=n(2),l=n.n(r),o=n(38),j=n.n(o),u=(n(76),n(18)),d=n(12),b=n(105),m=n(67),O=n(16),h=n.n(O),p=n(28),f=n(22),x=n(3),v=n(10),g=n(106),w=n(30),N=n(27),_=Object(N.a)(i||(i=Object(w.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"]))),S=Object(N.a)(c||(c=Object(w.a)(["\n  mutation addUser($username: String!, $firstName: String!, $lastName: String!, $email: String!, $password: String!) {\n    addUser(username: $username, firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        firstName\n        lastName\n      }\n    }\n  }\n"]))),y=(Object(N.a)(a||(a=Object(w.a)(["\nmutation addFriend($friendId: ID!) {\n  addFriend(friendId: $friendId) {\n    _id\n    firstName\n    lastName\n    username\n    friends {\n      _id\n      firstName\n      lastName\n      username\n    }\n  }\n}"]))),Object(N.a)(s||(s=Object(w.a)(["\nmutation addWishList($name: String!, $month: Int!, $day: Int!, $year: Int!, $items: [ItemInput]!){\n  addWishList(name: $name, month: $month, day: $day, year: $year, items: $items){\n    _id\n    name\n    month\n    day\n    year\n    items{\n      name\n      link\n      specialNote\n      price\n      isClaimed\n    }\n    }\n  }"])))),k=n(58),L=n(59),C=n(49),I=new(function(){function e(){Object(k.a)(this,e)}return Object(L.a)(e,[{key:"getProfile",value:function(){return Object(C.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(C.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),T=n(1),E=function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(v.a)(t,2),i=n[0],c=n[1],a=Object(g.a)(_),s=Object(v.a)(a,2),l=s[0],o=s[1].error,j=function(e){var t=e.target,n=t.name,a=t.value;c(Object(x.a)(Object(x.a)({},i),{},Object(f.a)({},n,a)))},u=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l({variables:Object(x.a)(Object(x.a)({},i),{},{email:i.email,password:i.password})});case 4:n=e.sent,a=n.data,I.login(a.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c({email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(T.jsx)("div",{className:"col-12 col-md-6",children:Object(T.jsxs)("div",{className:"card",children:[Object(T.jsx)("h4",{className:"card-header",children:"Login"}),Object(T.jsxs)("div",{className:"card-body",children:[Object(T.jsxs)("form",{onSubmit:u,children:[Object(T.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",value:i.email,onChange:j}),Object(T.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",value:i.password,onChange:j}),Object(T.jsx)("button",{className:"btn d-block w-100",type:"submit",children:"Submit"})]}),o&&Object(T.jsx)("div",{children:"Login failed"})]})]})})})},F=function(){var e=Object(r.useState)({username:"",email:"",password:""}),t=Object(v.a)(e,2),n=t[0],i=t[1],c=Object(g.a)(S),a=Object(v.a)(c,2),s=a[0],l=a[1].error,o=function(e){var t=e.target,c=t.name,a=t.value;i(Object(x.a)(Object(x.a)({},n),{},Object(f.a)({},c,a)))},j=function(){var e=Object(p.a)(h.a.mark((function e(t){var i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(x.a)({},n)});case 4:i=e.sent,c=i.data,I.login(c.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(T.jsx)("div",{className:"col-12 col-md-6",children:Object(T.jsxs)("div",{className:"card",children:[Object(T.jsx)("h4",{className:"card-header",children:"Sign Up"}),Object(T.jsxs)("div",{className:"card-body",children:[Object(T.jsxs)("form",{onSubmit:j,children:[Object(T.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"username",id:"username",value:n.username,onChange:o}),Object(T.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",value:n.email,onChange:o}),Object(T.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",value:n.password,onChange:o}),Object(T.jsx)("button",{className:"btn d-block w-100",type:"submit",children:"Submit"})]}),l&&Object(T.jsx)("div",{children:"Signup failed"})]})]})})})},D=function(){return Object(T.jsx)("div",{children:"Oops, we couldn't find that page."})},P=n(13),$=(n(80),n(81),n(9));function A(e,t,n){return new Promise((function(i,c){var a,s,r,l=window.indexedDB.open("wish-list",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("wishlists",{keyPath:"_id"}),t.createObjectStore("wishlist",{keyPath:"_id"}),t.createObjectStore("secret list",{keyPath:"_id"}),t.createObjectStore("shopping list",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error"),console.error(e)},l.onsuccess=function(c){switch(a=l.result,s=a.transaction(e,"readwrite"),r=s.objectStore(e),a.onerror=function(e){console.log("error",e)},t){case"put":r.put(n),i(n);break;case"get":var o=r.getAll();o.onsuccess=function(){i(o.result)};break;case"delete":r.delete(n._id);break;default:console.log("No valid method")}s.oncomplete=function(){a.close()}}}))}var R="ADD_FRIEND",B="REMOVE_FRIEND",W="ADD_WISHLIST",U="ADD_TO_WISHLIST",M="ADD_MULTIPLE_TO_WISHLIST",V="SORT_WISHLIST_ALPHABETICALLY",H="SORT_WISHLIST_PRICE_ASC",Y="SORT_WISHLIST_PRICE_DESC",G="UPDATE_WISHLIST_ITEM",X="REMOVE_FROM_WISHLIST",q="ADD_TO_SECRET_LIST",z="ADD_MULTIPLE_TO_SECRET_LIST",J="SORT_SECRET_LIST_ALPHABETICALLY",K="SORT_SECRET_LIST_PRICE_ASC",Q="SORT_SECRET_LIST_PRICE_DESC",Z="UPDATE_SECRET_LIST_ITEM",ee="REMOVE_FROM_SECRET_LIST",te="ADD_TO_SHOPPING_LIST",ne="ADD_MULTIPLE_TO_SHOPPING_LIST",ie="UPDATE_SHOPPING_LIST_ITEM",ce="REMOVE_FROM_SHOPPING_LIST",ae=function(){var e=Object($.b)(),t=Object(r.useState)({_id:"",name:"",link:"",price:"",specialNote:"",isClaimed:!1,isClaimedBy:""}),n=Object(v.a)(t,2),i=n[0],c=n[1],a=i._id,s=i.name,l=i.link,o=i.price,j=i.specialNote,u=i.isClaimed,d=i.isClaimedBy,b=function(e){c(Object(x.a)(Object(x.a)({},i),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(T.jsxs)("section",{children:[Object(T.jsx)("h2",{children:"Add an Item"}),Object(T.jsxs)("form",{id:"add-item-form",onSubmit:function(t){t.preventDefault(),console.log(i),e({type:U,item:Object(x.a)({},i)}),A("wishlist","put",Object(x.a)(Object(x.a)({},i),{},{isClaimed:u,isClaimedBy:d})),e({type:q,item:Object(x.a)({},i)}),A("secret list","put",Object(x.a)(Object(x.a)({},i),{},{isClaimed:u,isClaimedBy:d}))},children:[Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"_id",children:"ID:"}),Object(T.jsx)("input",{type:"text",name:"_id",defaultValue:a,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(T.jsx)("input",{type:"text",name:"name",defaultValue:s,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"link",children:"Link:"}),Object(T.jsx)("input",{type:"text",name:"link",defaultValue:l,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"price",children:"Price: $"}),Object(T.jsx)("input",{type:"number",name:"price",defaultValue:"$".concat(o),onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"specialNote",children:"Special Notes:"}),Object(T.jsx)("textarea",{name:"specialNote",rows:"5",defaultValue:j,onBlur:b})]}),Object(T.jsx)("button",{type:"submit","data-testid":"submit",children:"Submit"})]})]})},se=n(37),re=n.n(se);n(86);function le(e){return e.replace("http://","").replace("https://","").replace("www.","").split("/")[0].split("?")[0]}var oe=function(e){var t=e.item,n=t,i=n._id,c=n.name,a=n.price,s=n.link,l=n.specialNote,o=Object(r.useState)(!1),j=Object(v.a)(o,2),u=j[0],d=j[1],b=Object($.c)((function(e){return e})),m=b.wishlist,O=b.secretList,h=b.shoppingList,p=Object($.b)(),g=function(e){var n=e.currentTarget.dataset.column,i=e.target.value;t=Object(x.a)(Object(x.a)({},t),{},Object(f.a)({},n,i))},w=function(e){var t=m.find((function(t){return t._id===e})),n=h.find((function(t){return t._id===e}));t&&(p({type:X,item:Object(x.a)({},t)}),A("wishlist","delete",Object(x.a)({},t)),p({type:ee,item:Object(x.a)({},t)}),A("secret list","delete",Object(x.a)({},t))),n&&(p({type:ce,item:Object(x.a)({},n)}),A("shopping list","delete",Object(x.a)({},n))),console.log("".concat(c," deleted!"))};return u?Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"wishlist-item",children:[Object(T.jsx)("strong",{children:Object(T.jsx)(re.a,{html:c,"data-column":"name",className:"content-editable",onChange:g})}),Object(T.jsx)("strong",{children:Object(T.jsxs)("span",{children:["$",Object(T.jsx)(re.a,{html:"".concat(a),"data-column":"price",className:"content-editable",onChange:g})]})}),Object(T.jsx)(re.a,{html:s,"data-column":"link",className:"content-editable",onChange:g}),Object(T.jsx)(re.a,{html:l,"data-column":"specialNote",className:"content-editable",onChange:g}),Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{onClick:function(){return function(e){var n=m.find((function(t){return t._id===e})),i=O.find((function(t){return t._id===e})),c=h.find((function(t){return t._id===e}));n&&(p({type:G,item:Object(x.a)({},t)}),A("wishlist","put",Object(x.a)({},t))),i&&(p({type:Z,item:Object(x.a)({},t)}),A("secret list","put",Object(x.a)({},t))),c&&(p({type:ie,item:Object(x.a)({},t)}),A("shopping list","put",Object(x.a)({},t))),d(!1)}(i)},children:"Save"}),Object(T.jsx)("button",{onClick:function(){return w(i)},children:"Delete"})]})]})}):Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"wishlist-item",children:[Object(T.jsx)("h3",{children:c}),Object(T.jsxs)("h4",{children:["$",a]}),Object(T.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",className:"item-link",children:le(s)}),Object(T.jsx)("p",{children:l}),Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{onClick:function(){console.log("editing ".concat(c,"...")),d(!0)},children:"Edit"}),Object(T.jsx)("button",{onClick:function(){return w(i)},children:"Delete"})]})]})})},je=function(){var e=Object(g.a)(y),t=Object(v.a)(e,1)[0],n=Object($.c)((function(e){return e})),i=Object($.b)();Object(r.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("wishlist","get");case 2:t=e.sent,i({type:M,items:Object(P.a)(t)});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n.wishlist.length||e()}),[t,n.wishlist.length,i]);return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{className:"text-green",children:"Wishlist"}),Object(T.jsx)(ae,{}),n.wishlist.length?Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{onClick:function(){n.wishlist.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),i({type:V,wishlist:[n.wishlist]})},children:"Sort Alphabetically"}),Object(T.jsx)("button",{onClick:function(){n.wishlist.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)})),i({type:H,wishlist:[n.wishlist]})},children:"Sort Price Asc"}),Object(T.jsx)("button",{onClick:function(){n.wishlist.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)})),i({type:Y,wishlist:[n.wishlist]})},children:"Sort Price Desc"}),n.wishlist.map((function(e){return Object(T.jsx)(oe,{item:e},e._id)}))]}):Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{role:"img","aria-label":"gift",children:"\ud83c\udf81"}),"Add items to your wishlist if you want gifts"]})]})},ue=(n(87),n(88),function(e){var t=e.item,n=t.name,i=t.price,c=t.link,a=t.specialNote;return Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"wishlist-item",children:[Object(T.jsxs)("h3",{children:[n,Object(T.jsxs)("span",{children:[" $",i]})]}),Object(T.jsx)("a",{href:c,children:le(c)}),Object(T.jsx)("p",{children:a})]})})}),de=function(){var e=Object($.c)((function(e){return e})),t=Object($.b)();return Object(r.useEffect)((function(){var n=function(){var e=Object(p.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("shopping list","get");case 2:n=e.sent,t({type:ne,items:Object(P.a)(n)});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.shoppingList.length||n()}),[e.shoppingList.length,t]),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{className:"text-green",children:"Shopping List"}),e.shoppingList.length?Object(T.jsx)("div",{children:e.shoppingList.map((function(e){return Object(T.jsx)(ue,{item:e},e._id)}))}):Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{role:"img","aria-label":"relief",children:"\ud83d\ude0c"}),"Feels good to have the shopping done..."]})]})};n(89);var be,me,Oe,he=function(e){return Object(T.jsxs)("div",{className:"card",children:[Object(T.jsx)("div",{className:"img-container",children:Object(T.jsx)("img",{alt:e.name,src:e.image})}),Object(T.jsx)("div",{className:"content",children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("strong",{children:"Name:"})," ",e.name]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("strong",{children:"Username:"})," ",e.username]})]})}),Object(T.jsx)("span",{onClick:function(){return e.removeFriend(e.id)},className:"remove",children:"\ud835\ude05"})]})},pe=(n(90),n(91),function(e){var t=e.item,n=Object($.c)((function(e){return e})).shoppingList,i=Object($.b)(),c=t._id,a=t.name,s=t.price,r=t.link,l=t.specialNote,o=t.isClaimed,j=t.isClaimedBy;return Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"secret-list-item",children:[Object(T.jsxs)("h3",{children:[a,Object(T.jsxs)("span",{children:[" $",s]})]}),Object(T.jsx)("a",{href:r,children:le(r)}),Object(T.jsx)("p",{children:l}),o?Object(T.jsxs)("div",{children:["Claimed by: ",j]}):Object(T.jsx)("div",{children:Object(T.jsx)("button",{id:"claim-gift",onClick:function(){n.find((function(e){return e._id===c}))||(o=!0,j="Me",i({type:te,item:Object(x.a)(Object(x.a)({},t),{},{isClaimed:o,isClaimedBy:j})}),A("shopping list","put",Object(x.a)(Object(x.a)({},t),{},{isClaimed:o,isClaimedBy:j})),i({type:Z,item:Object(x.a)(Object(x.a)({},t),{},{isClaimed:o,isClaimedBy:j})}),A("secret list","put",Object(x.a)(Object(x.a)({},t),{},{isClaimed:o,isClaimedBy:j})))},children:"Claim Gift"})})]})})}),fe=function(){var e=Object($.c)((function(e){return e})),t=Object($.b)(),n=Object(r.useState)(e.secretList),i=Object(v.a)(n,2),c=i[0],a=i[1],s=Object(r.useState)(!1),l=Object(v.a)(s,2),o=l[0],j=l[1],u=Object(r.useState)(0),d=Object(v.a)(u,2),b=d[0],m=d[1],O=Object(r.useState)(500),f=Object(v.a)(O,2),x=f[0],g=f[1];Object(r.useEffect)((function(){var n=function(){var e=Object(p.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("secret list","get");case 2:n=e.sent,t({type:z,items:Object(P.a)(n)});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.secretList.length||n()}),[e.secretList.length,t]);var w=function(t){a(e.secretList),j(!0);var n=t.currentTarget.dataset.column,i=t.target.value;"minPrice"===n&&m(parseInt(i)),"maxPrice"===n&&g(parseInt(i));var c=e.secretList.filter((function(e){return e.price>=b&&e.price<=x}));a(c)};return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)("h2",{className:"text-green",children:"Secret List"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"minPrice",children:"Min Price: $"}),Object(T.jsx)("input",{type:"number",min:"0",max:x,name:"minPrice","data-column":"minPrice",value:b,onChange:w,onFocus:w,onBlur:w})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"maxPrice",children:"Max Price: $"}),Object(T.jsx)("input",{type:"number",min:b,name:"maxPrice","data-column":"maxPrice",value:x,onChange:w,onFocus:w,onBlur:w})]}),Object(T.jsx)("button",{onClick:function(){j(!1),m(0),g(500),a(e.secretList)},children:"Clear Filters"}),Object(T.jsx)("button",{onClick:function(){c.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),t({type:J,wishlist:[c]})},children:"Sort Alphabetically"}),Object(T.jsx)("button",{onClick:function(){c.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)})),t({type:K,wishlist:[c]})},children:"Sort Price Asc"}),Object(T.jsx)("button",{onClick:function(){c.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)})),t({type:Q,wishlist:[c]})},children:"Sort Price Desc"}),o?Object(T.jsx)("div",{children:c.map((function(e){return Object(T.jsx)(pe,{item:e},e._id)}))}):Object(T.jsx)("div",{children:e.secretList.length?Object(T.jsx)("div",{children:e.secretList.map((function(e){return Object(T.jsx)(pe,{item:e},e._id)}))}):Object(T.jsxs)("div",{children:["This user has everything they want!",Object(T.jsx)("span",{role:"img","aria-label":"smiley",children:"\ud83d\ude03"})]})})]})},xe=(n(92),function(){var e=Object($.b)(),t=Object(r.useState)({_id:"",name:"",month:"",day:"",year:"",items:[]}),n=Object(v.a)(t,2),i=n[0],c=n[1],a=i._id,s=i.name,l=i.month,o=i.day,j=i.year,u=i.items,d=(new Date).getFullYear(),b=function(e){c(Object(x.a)(Object(x.a)({},i),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(T.jsxs)("section",{children:[Object(T.jsx)("h2",{children:"Add a Wishlist"}),Object(T.jsxs)("form",{id:"add-wishlist-form",onSubmit:function(t){t.preventDefault(),console.log(i),e({type:W,item:Object(x.a)({},i)}),A("wishlists","put",Object(x.a)(Object(x.a)({},i),{},{items:u}))},children:[Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"_id",children:"ID:"}),Object(T.jsx)("input",{type:"text",name:"_id",defaultValue:a,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(T.jsx)("input",{type:"text",name:"name",defaultValue:s,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"month",children:"Month:"}),Object(T.jsx)("input",{type:"number",name:"month",min:"1",max:"12",defaultValue:l,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"day",children:"Day:"}),Object(T.jsx)("input",{type:"number",name:"day",min:"1",max:"31",defaultValue:o,onBlur:b})]}),Object(T.jsxs)("div",{className:"form-input",children:[Object(T.jsx)("label",{htmlFor:"year",children:"Year:"}),Object(T.jsx)("input",{type:"number",name:"year",min:d,defaultValue:j,onBlur:b})]}),Object(T.jsx)("button",{type:"submit","data-testid":"submit",children:"Submit"})]})]})}),ve=(n(93),n(107)),ge=(Object(N.a)(be||(be=Object(w.a)(["\n{\n    user {\n    _id\n    username\n    email\n    friends{\n      _id\n      firstName\n    }\n    lists{\n      _id\n      name\n      items{\n        _id\n        name\n        link\n      }\n    }\n  }\n}\n"]))),Object(N.a)(me||(me=Object(w.a)(["\n  {\n    users {\n      _id\n      username\n      firstName\n      lastName\n      email\n    }\n  }\n"]))),Object(N.a)(Oe||(Oe=Object(w.a)(["\n  query ($username: String!) {\n    username (username: $username) {\n      _id\n      username\n      firstName\n      lastName\n      email\n    }\n  }\n"])))),we=function(){var e=Object($.c)((function(e){return e})),t=(Object($.b)(),Object(r.useState)("")),n=Object(v.a)(t,2),i=n[0],c=n[1],a=Object(r.useState)({username:"",firstName:"",lastName:"",email:""}),s=Object(v.a)(a,2),l=s[0],o=s[1],j=Object(ve.a)(ge,{variables:{username:i}}),u=(j.loading,j.data);return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsxs)("form",{id:"friend-search",onSubmit:function(e){e.preventDefault(),u?o(u.username):console.log("no data")},children:[Object(T.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(T.jsx)("input",{className:"searchbar",type:"text",name:"username",placeholder:"Find friends here...",value:i,onChange:function(e){console.log(e.target.value),c(e.target.value)}}),Object(T.jsx)("button",{type:"submit",children:Object(T.jsx)("i",{class:"fas fa-search"})})]}),l.username.length?Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:l.username}),Object(T.jsx)("p",{children:l.firstName}),Object(T.jsx)("p",{children:l.lastName}),Object(T.jsx)("p",{children:l.email}),Object(T.jsx)("button",{onClick:function(){console.log(l.username)},type:"button",children:"Add Friend"})]}):Object(T.jsx)("div",{}),e.friends.length?Object(T.jsx)("div",{children:e.friends.map((function(e){e._id}))}):Object(T.jsx)("div",{})]})},Ne=(n(94),function(){var e=Object($.c)((function(e){return e.wishlists}));return e?Object(T.jsx)("div",{className:"container",children:e&&e.map((function(e){return Object(T.jsx)("div",{children:Object(T.jsx)(u.b,{to:"/wishlist/".concat(e._id),children:e.name})})}))}):Object(T.jsx)("div",{children:Object(T.jsx)(xe,{})})}),_e=function(){return Object(T.jsxs)("div",{className:"container",children:[Object(T.jsx)(xe,{}),"======================================================================",Object(T.jsx)(Ne,{}),"======================================================================",Object(T.jsx)(we,{}),"======================================================================",Object(T.jsx)(fe,{}),"======================================================================",Object(T.jsx)(de,{})]})},Se=n(68),ye={friends:[],wishlists:[],wishlist:[],secretList:[],shoppingList:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(x.a)(Object(x.a)({},e),{},{friends:[].concat(Object(P.a)(e.friends),[t.friend])});case B:var n=e.friends.filter((function(e){return e._id!==t._id}));return Object(x.a)(Object(x.a)({},e),{},{friends:n});case W:return Object(x.a)(Object(x.a)({},e),{},{wishlists:[].concat(Object(P.a)(e.wishlists),[t.wishlist])});case U:return Object(x.a)(Object(x.a)({},e),{},{wishlist:[].concat(Object(P.a)(e.wishlist),[t.item])});case M:return Object(x.a)(Object(x.a)({},e),{},{wishlist:[].concat(Object(P.a)(e.wishlist),Object(P.a)(t.items))});case V:var i=e.wishlist.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));return Object(x.a)(Object(x.a)({},e),{},{wishlist:i});case H:var c=e.wishlist.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));return Object(x.a)(Object(x.a)({},e),{},{wishlist:c});case Y:var a=e.wishlist.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));return Object(x.a)(Object(x.a)({},e),{},{wishlist:a});case G:return Object(x.a)(Object(x.a)({},e),{},{wishlist:[].concat(Object(P.a)(e.wishlist),[t.item])});case X:var s=e.wishlist.filter((function(e){return e._id!==t._id}));return Object(x.a)(Object(x.a)({},e),{},{wishlist:s});case q:return Object(x.a)(Object(x.a)({},e),{},{secretList:[].concat(Object(P.a)(e.secretList),[t.item])});case z:return Object(x.a)(Object(x.a)({},e),{},{secretList:Object(P.a)(t.items)});case J:var r=e.secretList.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));return Object(x.a)(Object(x.a)({},e),{},{secretList:r});case K:var l=e.secretList.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));return Object(x.a)(Object(x.a)({},e),{},{secretList:l});case Q:var o=e.secretList.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));return Object(x.a)(Object(x.a)({},e),{},{secretList:o});case Z:return Object(x.a)(Object(x.a)({},e),{},{secretList:[].concat(Object(P.a)(e.secretList),[t.item])});case ee:var j=e.secretList.filter((function(e){return e._id!==t._id}));return Object(x.a)(Object(x.a)({},e),{},{secretList:j});case te:return Object(x.a)(Object(x.a)({},e),{},{shoppingList:[].concat(Object(P.a)(e.shoppingList),[t.item])});case ne:return Object(x.a)(Object(x.a)({},e),{},{shoppingList:[].concat(Object(P.a)(e.shoppingList),Object(P.a)(t.items))});case ie:return Object(x.a)(Object(x.a)({},e),{},{shoppingList:[].concat(Object(P.a)(e.shoppingList),[t.item])});case ce:var u=e.shoppingList.filter((function(e){return e._id!==t._id}));return Object(x.a)(Object(x.a)({},e),{},{shoppingList:u});default:return e}},Le=Object(Se.a)(ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ce=(n(96),n(97),["btn--primary","btn--outline","btn--test"]),Ie=["btn--medium","btn--large"],Te=function(e){var t=e.children,n=e.type,i=e.onClick,c=e.buttonStyle,a=e.buttonSize,s=Ce.includes(c)?c:Ce[0],r=Ie.includes(a)?a:Ie[0];return Object(T.jsx)(u.b,{to:"/Signup",className:"btn-mobile",children:Object(T.jsx)("button",{className:"btn ".concat(s," ").concat(r),onClick:i,type:n,children:t})})};var Ee=function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(!0),a=Object(v.a)(c,2),s=a[0],l=a[1],o=function(){return i(!1)},j=function(){window.innerWidth<=960?l(!1):l(!0)};return Object(r.useEffect)((function(){j()}),[]),window.addEventListener("resize",j),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("nav",{className:"navbar",children:Object(T.jsxs)("div",{className:"navbar-container",children:[Object(T.jsxs)(u.b,{to:"/",className:"navbar-logo",onClick:o,children:["Wish-List \xa0",Object(T.jsx)("i",{class:"fas fa-gift"})]}),Object(T.jsx)("div",{className:"menu-icon",onClick:function(){return i(!n)},children:Object(T.jsx)("i",{className:n?"fas fa-times":"fas fa-bars"})}),I.loggedIn()?Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("ul",{className:n?"nav-menu active":"nav-menu",children:[Object(T.jsx)(u.b,{to:"/wishlist",className:"nav-links",onClick:o,children:"DashBoard"}),Object(T.jsx)(u.b,{to:"/shoppinglist",className:"nav-links",onClick:o,children:"Shopping"}),Object(T.jsx)(u.b,{to:"/friendcard",className:"nav-links",onClick:o,children:"Friends"}),Object(T.jsx)(u.b,{to:"/Home",className:"nav-links",onClick:o,children:Object(T.jsx)("a",{onClick:function(e){e.preventDefault(),I.logout()},children:"Logout"})})]})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("ul",{className:n?"nav-menu active":"nav-menu",children:Object(T.jsxs)("li",{className:"nav-item",children:[Object(T.jsx)(u.b,{to:"../Login",className:"nav-links",onClick:o,children:"Login"}),Object(T.jsx)(u.b,{to:"../Signup",className:"nav-links-mobile",onClick:o,children:"SignUp"})]})}),s&&Object(T.jsx)(Te,{buttonStyle:"btn--outline",children:" SIGNUP "})]})]})})})},Fe=new m.a({request:function(e){var t=localStorage.getItem("id_token");e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})},uri:"/graphql"});var De=function(){return Object(T.jsx)(b.a,{client:Fe,children:Object(T.jsx)(u.a,{children:Object(T.jsx)("div",{children:Object(T.jsxs)($.a,{store:Le,children:[Object(T.jsx)(Ee,{}),Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)(d.c,{children:[Object(T.jsx)(d.a,{exact:!0,path:"/",component:_e}),Object(T.jsx)(d.a,{exact:!0,path:"/login",component:E}),Object(T.jsx)(d.a,{exact:!0,path:"/signup",component:F}),Object(T.jsx)(d.a,{exact:!0,path:"/wishlist",component:je}),Object(T.jsx)(d.a,{exact:!0,path:"/shoppinglist",component:de}),Object(T.jsx)(d.a,{exact:!0,path:"/friendcard",component:he}),Object(T.jsx)(d.a,{component:D})]})})]})})})})},Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}j.a.render(Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(De,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Pe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$e(t,e)}))}}()}},[[99,1,2]]]);
//# sourceMappingURL=main.4cc54da7.chunk.js.map